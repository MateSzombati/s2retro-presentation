<div [ngStyle]="{ transform: 'scale(' + scale + ')', 'transform-origin': 'top left' }" class="retro-board-table-container">
    
    <div class="main-container">
        <table class="table-container">
            <thead>
                <tr class="table-head" cdkDropList cdkDropListOrientation="horizontal" (cdkDropListDropped)="dropColumn($event)" >
                    
                    @for (col of instance()?.columns; track col.id; let i = $index) {
                        <th cdkDrag [cdkDragDisabled]="isDragDisabled" class="resizable-box" [ngStyle]="{ width: 160 + 'px' }" >
                            <div class="resizer" (mousedown)="startResize($event, i)" (mouseenter)="disableDrag()" (mouseleave)="enableDrag()" ></div>

                            <div class="table-header-col">
                                <p class="col-title">{{col.name}}</p>
                                <div class="type-card">{{parseTypeName(col)}}</div>
                            </div>
                        </th>
                    }

                </tr>
            </thead>

            <tbody>
                <tr class="table-row">
                    @for (col of instance()?.columns; track col.id) {
                        <td class="table-body-col" [ngStyle]="{ width: 160 + 'px' }">
                            
                            @if(col.type === 0 && col.instanceCategoryId) {
                                <app-category [id]="col.instanceCategoryId"></app-category>
                            }
                            @else {
                                @switch (col.type) {
                                    @case (0) {
                                        <app-freetext></app-freetext>
                                    }
                                    @case (1) {
                                        <app-number></app-number>
                                    }
                                    @case (2) {
                                        <app-date></app-date>
                                    }
                                }
                            }

                        </td>
                    }
                </tr>
                
            </tbody>
        </table>

        <button class="add-row-btn" (click)="addRow()">
            <p style="font-size: 18px;">+</p>
            <p>Hinzuf√ºgen</p>
        </button>

    </div>

</div>